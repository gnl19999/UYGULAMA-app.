<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kelime UygulamasÄ± v4</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700;900&display=swap" rel="stylesheet">
    <style>
        /* --- TEMEL AYARLAR --- */
        body {
            font-family: 'Roboto', sans-serif;
            background-color: #f4f6f8;
            margin: 0; padding: 0;
            display: flex; justify-content: center;
            min-height: 100vh;
        }

        .container {
            width: 100%; max-width: 450px;
            background-color: #fff; min-height: 100vh;
            position: relative; box-shadow: 0 0 20px rgba(0,0,0,0.05);
            overflow-x: hidden;
        }

        /* --- EKRAN GEÃ‡Ä°ÅžLERÄ° --- */
        .screen { display: none; padding: 20px; animation: fadeIn 0.3s; }
        .screen.active { display: block; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

        /* --- ÃœNÄ°TE KARTLARI --- */
        .unit-card {
            background-color: white; border-radius: 12px; padding: 15px; margin-bottom: 15px;
            display: flex; align-items: center; box-shadow: 0 2px 8px rgba(0,0,0,0.08);
            border: 1px solid #f0f0f0; cursor: pointer; transition: transform 0.2s;
        }
        .unit-card:hover { transform: translateY(-2px); }
        .circle {
            width: 50px; height: 50px; border-radius: 50%; display: flex;
            align-items: center; justify-content: center; color: white;
            font-weight: bold; font-size: 18px; margin-right: 15px; flex-shrink: 0;
        }
        /* Renkler */
        .bg-1 { background-color: #ff6b6b; } .bg-2 { background-color: #4ecdc4; }
        .bg-3 { background-color: #1a535c; } .bg-4 { background-color: #f7fff7; border: 1px solid #ccc; color:#333 !important; } 
        .bg-5 { background-color: #ffe66d; color:#333 !important; }

        .info h3 { margin: 0; font-size: 16px; color: #333; }
        .info p { margin: 3px 0 0 0; color: #95a5a6; font-size: 12px; }

        /* --- DETAY LÄ°STESÄ° --- */
        .detail-header { display: flex; align-items: center; margin-bottom: 20px; padding-bottom: 10px; border-bottom: 1px solid #eee; }
        .back-button { font-size: 24px; color: #333; cursor: pointer; margin-right: 15px; }
        .word-item {
            background-color: white; border-radius: 10px; padding: 15px; margin-bottom: 10px;
            display: flex; align-items: center; box-shadow: 0 1px 3px rgba(0,0,0,0.05);
            border: 1px solid #eee; cursor: pointer; transition: background 0.2s;
        }
        .word-item:active { background-color: #f5f5f5; }
        .word-icon {
            width: 40px; height: 40px; margin-right: 15px; border-radius: 8px;
            background-color: #f0f2f5; color: #555; display: flex;
            align-items: center; justify-content: center; font-size: 18px; font-weight: bold;
        }

        /* --- KELÄ°ME KARTI --- */
        #card-screen { padding: 0; height: 100vh; background-color: white; display: flex; flex-direction: column; }
        .card-top-bar { padding: 15px; display: flex; justify-content: flex-end; }
        .card-close-btn { font-size: 28px; color: #b0bec5; cursor: pointer; padding: 10px; }

        .card-content {
            padding: 0 20px 30px 20px; flex-grow: 1; display: flex;
            flex-direction: column; align-items: center;
        }

        .word-header { text-align: center; margin-bottom: 15px; width: 100%; }
        .main-word-row { display: flex; align-items: center; justify-content: center; gap: 10px; }
        .main-word { font-size: 38px; font-weight: 900; color: #2c3e50; margin: 0; letter-spacing: -1px; }
        .main-meaning { color: #7f8c8d; font-size: 20px; margin-top: 5px; font-weight: 400; }
        .speaker-icon { 
            font-size: 30px; /* HoparlÃ¶r ikonu bÃ¼yÃ¼tÃ¼ldÃ¼ */
            color: #f1c40f; /* GÃ¶rseldeki sarÄ±/turuncu renk */
            cursor: pointer; 
            margin-right: 10px; /* Kelimeye yaklaÅŸtÄ±rÄ±ldÄ± */
        }

        .card-image-container {
            width: 100%; height: 260px;
            margin: 10px 0 20px 0; border-radius: 16px; overflow: hidden;
            position: relative; background-color: #f0f0f0;
        }
        .card-image-container img { width: 100%; height: 100%; object-fit: contain; } /* 'contain' kullanÄ±ldÄ± */
        .lightning-icon {
            position: absolute; right: 15px; bottom: 15px;
            color: #f1c40f; font-size: 24px; background: rgba(255,255,255,0.8);
            width: 40px; height: 40px; border-radius: 50%; display: flex;
            align-items: center; justify-content: center;
        }

        .example-box {
            width: 100%; background-color: #fafafa; border: 1px solid #eee;
            border-radius: 16px; padding: 20px; box-shadow: 0 4px 6px rgba(0,0,0,0.02);
            position: relative; margin-top: auto; margin-bottom: 40px; box-sizing: border-box;
        }
        .or-label {
            /* GÃ¶rseldeki "Ã–r." stilini taklit etmek iÃ§in sol tarafa alÄ±ndÄ± */
            position: absolute; left: 10px; top: 20px;
            color: #f39c12; font-weight: bold; font-size: 14px;
        }
        .highlight-word { color: #27ae60; font-weight: bold; background: #e8f5e9; padding: 0 2px; border-radius: 3px; }
        .divider { height: 1px; background-color: #eee; margin: 12px 0; }
        .ex-sentence-content { padding-left: 20px; } /* Ã–r. yazÄ±sÄ± iÃ§in boÅŸluk */
    </style>
</head>
<body>

    <div class="container">
        <div id="list-screen" class="screen active">
            <h2 style="padding-left:5px; color:#2c3e50;">Ãœniteler</h2>
            <div id="units-container"></div>
        </div>

        <div id="detail-screen" class="screen">
            <div class="detail-header">
                <span class="back-button" onclick="showListScreen()">&#8592;</span> 
                <h2 id="detail-unit-title" style="margin:0; font-size:18px; color:#333;"></h2>
            </div>
            <ul id="unit-word-list" style="list-style:none; padding:0;"></ul>
            <div id="empty-message" style="display:none; text-align:center; color:#999; margin-top:50px;">
                Bu Ã¼nite henÃ¼z boÅŸ.
            </div>
        </div>

        <div id="card-screen" class="screen">
            <div class="card-top-bar">
                <span class="card-close-btn" onclick="closeCardScreen()">&#10005;</span>
            </div>
            <div class="card-content">
                <div class="word-header">
                    <div class="main-word-row">
                        <span class="speaker-icon">ðŸ”Š</span>
                        <h1 id="card-word" class="main-word">...</h1>
                    </div>
                    <p id="card-meaning" class="main-meaning">...</p>
                </div>

                <div class="card-image-container">
                    <img id="card-image" src="" alt="GÃ¶rsel">
                    <div class="lightning-icon">âš¡</div>
                </div>

                <div class="example-box">
                    <span class="or-label">Ã–r.</span>
                    <div class="ex-sentence-content">
                        <p id="card-sentence-en" style="color:#455a64; margin:0 0 5px 0; font-size:16px; line-height:1.4;"></p>
                        <div class="divider"></div>
                        <p id="card-sentence-tr" style="color:#90a4ae; margin:0; font-size:14px;"></p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // ======================================================
        // 1. VERÄ° YÃ–NETÄ°MÄ° (1. ÃœNÄ°TE GÃœNCELLENDÄ°)
        // ======================================================
        
        const unitDatabase = {
            // Ãœnite 1: Temel Fiiller (Yeni kelimeler eklendi)
            1: [
                ["hide", "gizlemek, saklamak"],
                ["run", "koÅŸmak"],
                ["sleep", "uyumak"],
                ["fly", "uÃ§mak"],
                ["swim", "yÃ¼zmek"],
                ["walk", "yÃ¼rÃ¼mek"]
            ],
            // Ãœnite 2: DoÄŸa
            2: [
                ["tree", "aÄŸaÃ§"],
                ["ocean", "okyanus"],
                ["mountain", "daÄŸ"],
                ["flower", "Ã§iÃ§ek"],
                ["rain", "yaÄŸmur"]
            ],
            // DiÄŸer Ã¼niteler...
            3: [ ["chair", "sandalye"], ["table", "masa"], ["bed", "yatak"], ["lamp", "lamba"] ],
            4: [ ["computer", "bilgisayar"], ["phone", "telefon"], ["camera", "kamera"] ],
        };

        // Demo AmaÃ§lÄ±: 5'ten 20'ye kadar boÅŸ Ã¼niteleri sahte veriyle dolduralÄ±m
        for (let i = 5; i <= 20; i++) {
            unitDatabase[i] = [ ["example", "Ã¶rnek"], ["test", "deneme"] ];
        }

        // ======================================================
        // 2. OTOMATÄ°K Ä°Ã‡ERÄ°K OLUÅžTURUCU (CÃœMLE VE GÃ–RSEL DÃœZELTÄ°LDÄ°)
        // ======================================================
        
        function processWordData(word, meaning) {
            
            let imgUrl = `https://image.pollinations.ai/prompt/cartoon%20doodle%20of%20${word}%20on%20a%20white%20background?width=400&height=300&nologo=true&seed=${word.length}`;
            let sentenceEn;
            let sentenceTr;

            // Ã–ZEL DURUM: HIDE kelimesi iÃ§in Ã¶zel gÃ¶rsel ve cÃ¼mle
            if (word === "hide") {
                // GÃ¶rseldeki sahneyi yansÄ±tan Ã¶zel prompt
                imgUrl = `https://image.pollinations.ai/prompt/cartoon%20child%20hiding%20in%20a%20bush%20and%20a%20box%20and%20a%20trash%20can%20on%20a%20white%20background%20doodle%20style?width=400&height=300&nologo=true&seed=999`;
                
                // GÃ¶nderilen gÃ¶rseldeki cÃ¼mlenin birebir Ã§evirisi
                sentenceEn = "He was accused of trying to {hide} evidence from the police.";
                sentenceTr = "Polisten delil gizlemeye Ã§alÄ±ÅŸmakla suÃ§landÄ±.";
            } 
            // DÄ°ÄžER KELÄ°MELER Ä°Ã‡Ä°N GENEL ÅžABLON
            else {
                const templates = [
                    { en: "I often {word} in the morning.", tr: "SabahlarÄ± sÄ±k sÄ±k {meaning} yaparÄ±m." },
                    { en: "It is important to {word} safely.", tr: "GÃ¼venli bir ÅŸekilde {meaning} Ã¶nemlidir." },
                    { en: "The bird can {word} very high.", tr: "KuÅŸ Ã§ok yÃ¼kseÄŸe {meaning} bilir." },
                    { en: "We need to {word} for the project.", tr: "Proje iÃ§in {meaning} yapmalÄ±yÄ±z." },
                    { en: "Please {word} carefully.", tr: "LÃ¼tfen dikkatli bir ÅŸekilde {meaning}." }
                ];
                
                const tIndex = word.length % templates.length;
                const t = templates[tIndex];

                // CÃ¼mledeki kelimeyi yerine koy ve anlamÄ±nÄ± da Ã§eviriye yerleÅŸtir
                sentenceEn = t.en.replace("{word}", `{${word}}`); 
                sentenceTr = t.tr.replace("{meaning}", meaning);
            }


            return {
                word: word,
                meaning: meaning,
                image: imgUrl,
                sentenceEn: sentenceEn,
                sentenceTr: sentenceTr
            };
        }

        // ======================================================
        // 3. ARAYÃœZ FONKSÄ°YONLARI (Ã–NCEKÄ° KODDAN ALINMIÅžTIR)
        // ======================================================

        const listScreen = document.getElementById('list-screen');
        const detailScreen = document.getElementById('detail-screen');
        const cardScreen = document.getElementById('card-screen');

        function switchScreen(screen) {
            listScreen.classList.remove('active'); listScreen.style.display = 'none';
            detailScreen.classList.remove('active'); detailScreen.style.display = 'none';
            cardScreen.classList.remove('active'); cardScreen.style.display = 'none';
            
            screen.style.display = 'block';
            setTimeout(() => screen.classList.add('active'), 10);
        }

        function initUnitList() {
            const container = document.getElementById('units-container');
            const totalUnits = 20;
            const colors = ['bg-1', 'bg-2', 'bg-3', 'bg-4', 'bg-5'];

            for (let i = 1; i <= totalUnits; i++) {
                const color = colors[(i - 1) % colors.length];
                const wordCount = unitDatabase[i] ? unitDatabase[i].length : 0;
                
                const card = document.createElement('div');
                card.className = 'unit-card';
                card.onclick = () => openUnit(i);
                card.innerHTML = `
                    <div class="circle ${color}">${i}</div>
                    <div class="info">
                        <h3>Ãœnite ${i}</h3>
                        <p>${wordCount} kelime</p>
                    </div>
                `;
                container.appendChild(card);
            }
        }

        function openUnit(unitId) {
            document.getElementById('detail-unit-title').innerText = `Ãœnite ${unitId} Kelimeleri`;
            const listContainer = document.getElementById('unit-word-list');
            const emptyMsg = document.getElementById('empty-message');
            listContainer.innerHTML = '';

            const rawWords = unitDatabase[unitId];

            if (!rawWords || rawWords.length === 0) {
                emptyMsg.style.display = 'block';
            } else {
                emptyMsg.style.display = 'none';
                
                rawWords.forEach(pair => {
                    const wordData = processWordData(pair[0], pair[1]);
                    
                    const li = document.createElement('li');
                    li.className = 'word-item';
                    li.onclick = () => openCard(wordData);
                    
                    const initial = wordData.word.charAt(0).toUpperCase();
                    
                    li.innerHTML = `
                        <div class="word-icon">${initial}</div>
                        <div style="flex-grow:1">
                            <div style="font-weight:bold; color:#333; font-size:16px;">${wordData.word}</div>
                            <div style="font-size:14px; color:#777;">${wordData.meaning}</div>
                        </div>
                        <span style="color:#ddd;">&#10095;</span>
                    `;
                    listContainer.appendChild(li);
                });
            }
            switchScreen(detailScreen);
        }

        function openCard(data) {
            document.getElementById('card-word').innerText = data.word;
            document.getElementById('card-meaning').innerText = data.meaning;
            
            const formattedEn = data.sentenceEn.replace(/{(\w+)}/g, '<span class="highlight-word">$1</span>');
            document.getElementById('card-sentence-en').innerHTML = formattedEn;
            document.getElementById('card-sentence-tr').innerText = data.sentenceTr;
            
            const img = document.getElementById('card-image');
            img.src = data.image;

            switchScreen(cardScreen);
        }

        function showListScreen() { switchScreen(listScreen); }
        function closeCardScreen() { switchScreen(detailScreen); }

        initUnitList();
    </script>
</body>
</html>
